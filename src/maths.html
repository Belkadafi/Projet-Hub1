<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"> 
        <meta name="Bonus maths" content="Home" />
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Accueil</title>
        <link rel="stylesheet" href="../css/StyleSheet.css">
        <script src="https://cdn.jsdelivr.net/gh/ZAUB1/zsockets-webclient@master/socket.js"></script>
        <script>
            const wclient = new WebSocketWebClient("localhost", 6969)
            wclient.On("python_result", (result) => {
                toggle_text(result);
            })
            const goExec = (given) => {
              console.log("test1");
              return wclient.Emit("exec_script", given);
            };
        </script>
        <script>
            function getHU()
            {
                const command = document.getElementById("command").value;
                const binary = document.getElementById("selection").value;
                if (document.getElementById("cat").checked == true) {
                    const if_checked = document.getElementById("cat").value;
                    const given = binary + " " + command +if_checked;
                    console.log(given);
                    console.log(goExec(given));
                } else {
                    const given = binary + " " + command;
                    console.log(given);
                    console.log(binary);
                    console.log(command);
                    console.log(goExec(given));
                }
            }
        </script>
        <script>
            function toggle_text(res)
            {
                var span = document.getElementById("function_return");
                span.innerHTML = res;
            }
        </script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="../index.html">Accueil</a></li> 
                    <li><a href="maths.html">Maths</a></li>
                </ul>
            </nav>
        </header>
        <br><br><br><br><br>
        <select id="selection" name="binary_selection">
            <option value="">--Please choose an option--</option>
            <option value="binaries/101pong">101pong</option>
            <option value="binaries/102architect">102architect</option>
            <option value="binaries/103cipher">103cipher</option>
            <option value="binaries/104intersection">104intersection</option>
            <option value="binaries/105torus">105torus</option>
            <!-- <option>102architect</option> -->
            <!-- <option>102architect</option> -->
            <!-- <option>102architect</option> -->
            <!-- <option>102architect</option> -->
            <!-- <option>102architect</option> -->
            <!-- <option>102architect</option> -->
        </select>
        <br><br><br>
        <FORM>
            <input type="text" hspace="10px" onfocus="this.value='';" name="sethu" id="command" value="Enter code"/>
            <input type="button" hspace="10px" id='script' name="scriptbutton" value=" Run Script " onclick="getHU()">
            <input type="checkbox" id="cat" name="cat -e" value=" | cat -e">
            <label for="cat">cat -e</label>
            <input type="checkbox" id="whitespace-mode" value="">
            <label for="whitespace-mode">show spaces</label>
        </FORM>
        <br><br><br><br><br><br><br><br>
        <h1></h1>
        <br><br>
        <span id="function_return" hspace="10px"></span>
        <script>
        </script>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <footer>
            <a id="footer_message"></a>
            <br>
            <br>
            <br>
            <a id="copyrights">Project done by Rafik Merzouk et Gabriel Knies (Epitech Montpellier 2024)</a>
        </footer>
    </body>
</html>